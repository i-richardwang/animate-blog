---
title: Agentic Table Playground
description: AI Agent 驱动的表格处理平台，通过自然语言实现复杂的数据操作
date: 2024-01-10
category: opensource
logo: /projects/github.svg
tech:
  - LangChain
  - Milvus
  - Streamlit
  - Python
  - Pandas
links:
  github: https://github.com/i-richardwang/agentic-table-playground
featured: false
---

由 LLM Agent 驱动的表格处理平台，实现无缝的数据操作。Agentic Table Playground 是一个实验性平台，利用 AI Agent 技术通过自然语言交互实现复杂的表格数据操作，展示了 AI Agent 如何处理复杂的多步骤数据处理工作流程。

## 核心功能

**表格合并**  
匹配两个或多个相关表的信息，类似于 Excel 的 VLOOKUP 功能。支持各种连接类型（左连接、右连接、内连接、外连接），并具有智能列匹配功能。

**数据重塑**  
通过将宽表转换为长表（将多列合并为一列）或将长表转换为宽表（将一列展开为多列）来调整数据结构。

**数据比较**  
比较两个表中指定信息的一致性或差异，识别不匹配的记录并突出显示差异。

**垂直堆叠**  
将多个结构相似的表垂直合并为一个合并表，自动进行模式验证。

**数据去重**  
删除重复记录，支持完全重复或基于指定列的字段特定去重。

**智能理解**  
通过自然语言描述复杂的多步骤数据处理需求，系统解析意图并执行适当的操作。

## 技术架构

### 系统工作流程

系统的核心是一个智能决策流程。用户上传 CSV 文件后，输入操作请求，AI Assistant 开始处理。处理过程有三个分支：

**需要更多信息** - 当意图不明确时，系统会主动请求澄清，而不是盲目执行。例如用户说"合并两个表"，系统会询问按哪个字段合并、使用什么合并方式（左连接、内连接等）。

**可执行操作** - 当意图明确时，系统调用数据操作工具箱中的相应工具。工具箱包含表格合并、数据重塑、数据比较、垂直堆叠、数据去重等功能模块。

**超出范围** - 对于不支持的操作，系统会诚实告知，避免产生错误结果。

### 组件架构

- **Frontend**: Streamlit 提供简洁的 Web 界面
- **Backend**: Python + Pandas 实现强大的数据处理能力
- **AI Engine**: LangChain + OpenAI 提供自然语言理解
- **Vector Database**: Milvus 用于工具检索和示例匹配
- **Monitoring**: Langfuse 监控和优化 LLM 调用

### 数据流

1. **用户输入**: 上传 CSV/Excel 文件，用自然语言描述操作需求
2. **AI 处理**: LangChain 使用 OpenAI 模型处理查询
3. **工具检索**: 向量数据库找到相关的表格操作工具
4. **操作执行**: 后端执行相应的 Pandas 操作
5. **结果展示**: 处理后的数据可视化展示并支持下载

## 向量搜索增强理解

系统使用 Milvus 存储工具函数的描述和示例查询。用户输入问题后，通过向量搜索找到最相关的工具。即使用户的表述和工具名称不完全匹配，也能准确识别意图。

这种设计让系统能够理解同义表达，例如"合并表格"、"联结数据"、"把两个表拼起来"都能映射到同一个表格合并工具。

## 项目特点

**智能意图理解**  
系统不仅识别用户想做什么，还能判断是否提供了足够的信息。当需求模糊时，主动提出澄清问题。

**工具编排能力**  
根据需求动态选择和组合工具。每个数据操作封装为独立工具，Agent 智能选择适当的工具链。

**错误处理机制**  
当不确定用户意图时，主动寻求澄清而不是猜测，防止错误操作。

**可扩展架构**  
每个功能实现为独立的工具函数，便于添加新功能。模块化设计允许在不修改核心逻辑的情况下扩展功能。
